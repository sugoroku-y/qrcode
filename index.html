<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>QRcode generator</title>
  <style>
    body {
      margin: 0;
      line-height: 1.5;
      font-size: 18px;
      text-align: center;
    }

    label {
      display: inline-block;
      min-width: 128px;
      text-align: right;
      margin-right: 8px;
      vertical-align: middle;
    }

    #qrcode:before {
      content: attr(title);
      display: block;
    }

    #qrcode>img {
      margin: 0 auto 8px;
    }
  </style>
  <script src="qrcode.js"></script>
  <script>
    window.addEventListener('load', function () {
      const qrcode = new QRCode("qrcode", {text: text.value});
      text.addEventListener('input', _ => qrcode.makeCode(text.value));
      wifi.addEventListener('click', () => {
        text.value = wifi.textContent;
        qrcode.makeCode(text.value);
      });
      ssid.addEventListener('input', () => wifi.textContent = `WIFI:S:${ssid.value};T:${securetype.value};P:${password.value};;`)
      securetype.addEventListener('change', () => wifi.textContent = `WIFI:S:${ssid.value};T:${securetype.value};P:${password.value};;`)
      password.addEventListener('input', () => wifi.textContent = `WIFI:S:${ssid.value};T:${securetype.value};P:${password.value};;`)
    });
  </script>
</head>

<body>
  <h1>QRcode generator</h1>
  <div><label for="text">Text</label><input id="text" type="text" value="text"></div>
  <div id="qrcode"></div>
  <p id="wifi"></p>
  <div style="display:flex;flex-direction:column;align-items: center">
  <div style="text-align: center">WIFI設定</div>
  <div style="display:flex;flex-direction:row"><div style="flex:0 0 100pt;text-align: left">SSID:</div><div style="flex:0 0 auto;text-align: left"><input type="text" id="ssid" placeholder="SSID"></div></div>
  <div style="display:flex;flex-direction:row"><div style="flex:0 0 100pt;text-align: left">セキュリティ:</div><div style="flex:0 0 auto;text-align: left"><select id="securetype"><option value="WPA" selected>WPA/WPA2</option><option value="WEP">WEP</option><option value="">暗号化無し</option></select></div></div>
  <div style="display:flex;flex-direction:row"><div style="flex:0 0 100pt;text-align: left">暗号鍵:</div><div style="flex:0 0 auto;text-align: left"><input id="password" type="password" value="" placeholder="暗号鍵"></div></div>
  </div>
  <script>
  </script>
</body>

</html>